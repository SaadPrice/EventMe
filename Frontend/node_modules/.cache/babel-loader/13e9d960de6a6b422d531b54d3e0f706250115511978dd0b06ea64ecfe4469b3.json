{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WebsocketComponent=()=>{const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[ws,setWs]=useState(null);useEffect(()=>{const webSocket=new WebSocket('ws://localhost:3000');webSocket.onopen=()=>{console.log('Connected to WebSocket server');};webSocket.onmessage=event=>{setMessages(prevMessages=>[...prevMessages,event.data]);};webSocket.onclose=()=>{console.log('Disconnected from WebSocket server');};setWs(webSocket);return()=>{webSocket.close();};},[]);const sendMessage=()=>{if(input&&ws&&ws.readyState===WebSocket.OPEN){ws.send(input);setInput('');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"WebSocket Messages\"}),/*#__PURE__*/_jsx(\"ul\",{children:messages.map((message,index)=>/*#__PURE__*/_jsx(\"li\",{children:message},index))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"})]});};export default WebsocketComponent;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","WebsocketComponent","messages","setMessages","input","setInput","ws","setWs","webSocket","WebSocket","onopen","console","log","onmessage","event","prevMessages","data","onclose","close","sendMessage","readyState","OPEN","send","children","map","message","index","type","value","onChange","e","target","onClick"],"sources":["C:/Assignments/EventMe/Frontend/src/components/WebsocketComponent.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst WebsocketComponent = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [ws, setWs] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const webSocket = new WebSocket('ws://localhost:3000');\r\n\r\n    webSocket.onopen = () => {\r\n      console.log('Connected to WebSocket server');\r\n    };\r\n\r\n    webSocket.onmessage = (event) => {\r\n      setMessages((prevMessages) => [...prevMessages, event.data]);\r\n    };\r\n\r\n    webSocket.onclose = () => {\r\n      console.log('Disconnected from WebSocket server');\r\n    };\r\n\r\n    setWs(webSocket);\r\n\r\n    return () => {\r\n      webSocket.close();\r\n    };\r\n  }, []);\r\n\r\n  const sendMessage = () => {\r\n    if (input && ws && ws.readyState === WebSocket.OPEN) {\r\n      ws.send(input);\r\n      setInput('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>WebSocket Messages</h1>\r\n      <ul>\r\n        {messages.map((message, index) => (\r\n          <li key={index}>{message}</li>\r\n        ))}\r\n      </ul>\r\n      <input\r\n        type=\"text\"\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n      />\r\n      <button onClick={sendMessage}>Send</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WebsocketComponent;\r\n\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,EAAE,CAAEC,KAAK,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAElCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,SAAS,CAAG,GAAI,CAAAC,SAAS,CAAC,qBAAqB,CAAC,CAEtDD,SAAS,CAACE,MAAM,CAAG,IAAM,CACvBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC9C,CAAC,CAEDJ,SAAS,CAACK,SAAS,CAAIC,KAAK,EAAK,CAC/BX,WAAW,CAAEY,YAAY,EAAK,CAAC,GAAGA,YAAY,CAAED,KAAK,CAACE,IAAI,CAAC,CAAC,CAC9D,CAAC,CAEDR,SAAS,CAACS,OAAO,CAAG,IAAM,CACxBN,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,CACnD,CAAC,CAEDL,KAAK,CAACC,SAAS,CAAC,CAEhB,MAAO,IAAM,CACXA,SAAS,CAACU,KAAK,CAAC,CAAC,CACnB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAIf,KAAK,EAAIE,EAAE,EAAIA,EAAE,CAACc,UAAU,GAAKX,SAAS,CAACY,IAAI,CAAE,CACnDf,EAAE,CAACgB,IAAI,CAAClB,KAAK,CAAC,CACdC,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,mBACEL,KAAA,QAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BzB,IAAA,OAAAyB,QAAA,CACGrB,QAAQ,CAACsB,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC3B5B,IAAA,OAAAyB,QAAA,CAAiBE,OAAO,EAAfC,KAAoB,CAC9B,CAAC,CACA,CAAC,cACL5B,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAExB,KAAM,CACbyB,QAAQ,CAAGC,CAAC,EAAKzB,QAAQ,CAACyB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3C,CAAC,cACF9B,IAAA,WAAQkC,OAAO,CAAEb,WAAY,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,EACxC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}